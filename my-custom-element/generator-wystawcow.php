<style>
.custom-generator-wystawcow {
    padding: 18px 0 36px;
}
.custom-generator-wystawcow h2 {
    font-size: 28px !important;
    width: auto;
}
.gform_legacy_markup_wrapper .gform_footer input[type=submit] {
    width: auto !important;
}
.gform_footer {
    display: flex;
    justify-content: center;
}
input {
    box-shadow: none !important;
}
input[type="submit"] {
    border-radius: 5px;
    margin: 0 auto 15px;
    width: 150px;
    box-shadow: none;
}
input[type="file"] {
    width: 83px !important;
    padding: 2px 0px 2px 2px !important;
}
.gform-body input[type="text"] {
    padding-left: 45px !important;
    background-color: #D2D2D2 !important;
    border-radius: 5px !important;
    border: none !important;
    font-weight: 700;
    color: #555555;
}
.ginput_container {
    position: relative;
}
.gfield img {
    position: absolute;
    left: 7px;
    top: 9px;
    height: 24px;
}
.gfield_validation_message, .gform_submission_error {
    font-size: 12px !important;
    padding: 4px 4px 4px 12px !important;
    margin-top: 2px !important;
}
.gform_submission_error {
    margin: 0 auto;
}
.gform_validation_errors {
    padding: 0 !important;
}
.container-forms h2, .container-forms button {
    font-weight: 800;
}
.gform-body {
    padding: 25px 25px 0 25px;
    max-width: 550px;
    margin: 0 auto;
}
.table {
    display: table;
    width: 100%;
    height: 100%;
}
.table-cell {
    display: table-cell;
    vertical-align: middle;
    -moz-transition: all 0.5s;
    -o-transition: all 0.5s;
    -webkit-transition: all 0.5s;
    transition: all 0.5s;
}
.container {
    border-radius: 25px;
    position: relative;
    /* min-width: 800px; */
    max-width: 1200px;
    margin: 30px auto 0;
    height: 680px;
    top: 50%;
    -moz-transition: all 0.5s;
    -o-transition: all 0.5s;
    -webkit-transition: all 0.5s;
    transition: all 0.5s;
}
.container .container-forms {
    position: relative;
}
.container .btn-exh {
    cursor: pointer;
    text-align: center;
    margin: 0 auto;
    border-radius: 15px;
    width: 164px;
    font-size: 24px;
    margin: 12px 0;
    padding: 5px 0;
    color: #fff;
    opacity: 1;
    -moz-transition: all 0.5s;
    -o-transition: all 0.5s;
    -webkit-transition: all 0.5s;
    transition: all 0.5s;
}
.container .btn-exh:hover {
    opacity: 0.7;
}
.container .container-forms .container-info {
    display: flex;
    justify-content: space-between;
    text-align: left;
    width: 100%;
    -moz-transition: all 0.5s;
    -o-transition: all 0.5s;
    -webkit-transition: all 0.5s;
    transition: all 0.5s;
}
.container .container-forms .container-info .info-item {
    text-align: center;
    width: 800px;
    height: 680px;
    display: inline-block;
    vertical-align: top;
    color: #fff;
    opacity: 1;
    -moz-transition: all 0.3s;
    -o-transition: all 0.3s;
    -webkit-transition: all 0.3s;
    transition: all 0.3s;
    background: #EBEBEB;
}
.info-item-left {
    border-radius: 20px 0 0 20px;
}
.info-item-left h2 {
    color: #31572C;
}
.info-item-left .gform_footer input[type="submit"] {
    background-color: #31572C !important;
}
.info-item-right {
    position: absolute;
    right: 0;
    border-radius: 0 20px 20px 0;
}
.info-item-right .gform_footer input[type="submit"] {
    background: #90A955 !important;
}
.info-item-right h2 {
    color: #90A955;
}
.container-info .info-item button, .gform_footer input[type="submit"] {
    margin-top: 25px !important;
    color: white !important;
    font-weight: 800;
    font-size: 24px !important;
    border-radius: 15px;
    padding: 15px 25px;
    width: 200px;
    box-shadow: none;
    cursor: pointer;
    border: none;
}
.container-info .none {
    width: 0px !important;
    overflow: hidden;
}
.form-item img {
    opacity: 0.4;
    position: absolute;
    width: 100%;
    z-index: 0;
    left: 0;
    top: 25%;
}
.form-item h2,.form-item h3,.form-item button {
    z-index: 100;
    position: relative;
    color: white !important;
}
.form-item h3 {
    font-weight: 400;
    font-size: 18px;
}
.form-item-element-left {
    background-color: #31572C !important;
    border-radius: 20px 0 0 20px;
}
.form-item-element-right {
    background: #90A955 !important;
    border-radius: 0 20px 20px 0;
}
.container .container-forms .container-info .info-item .btn-exh {
    background-color: transparent;
    border: 1px solid #fff;
}
.container .container-forms .container-info .info-item .table-cell {
    padding-right: 0;
}
.container .container-forms .container-info .info-item:nth-child(2) .table-cell {
    padding-left: 70px;
    padding-right: 0;
}
.container .container-form {
    overflow: hidden;
    position: absolute;
    left: 0px;
    top: 0px;
    width: 400px;
    height: 680px;
    -moz-transition: all 0.5s;
    -o-transition: all 0.5s;
    -webkit-transition: all 0.5s;
    transition: all 0.5s;
}
.container .form-item {
    padding: 25px;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    opacity: 1;
    -moz-transition: all 0.5s;
    -o-transition: all 0.5s;
    -webkit-transition: all 0.5s;
    transition: all 0.5s;
    color: white !important;
    text-align: center;
}
.container .form-item.sign-up {
    position: absolute;
    opacity: 0;
}
.container.log-in .container-form {
    left: 800px;
}
.container.log-in .container-form .form-item.sign-up {
    left: 0;
    opacity: 1;
}
.container.log-in .container-form .form-item.log-in {
    left: -100%;
}
.forms-conteiner-info__btn {
    margin-top: 50px !important;
    background-color: transparent;
    border: 2px solid white;
}
.custom-generator-wystawcow .heading-text {
    text-align: center;
    padding: 18px 0;
}
.custom-generator-wystawcow .heading-text h3 {
    margin: 0 auto;
}
.guest-info {
    width: 80% !important;
    margin: 0 auto;
}
@media (max-width:1200px) {
    .container {
        max-width: 900px !important;
    }
    .container .container-forms .container-info .info-item {
        width: 600px;
    }
    .container .container-form {
        width: 300px;
    }
    .container.log-in .container-form {
        left: 600px;
    }
    .row-container:has(.gform_wrapper, .custom-container-grupy) .wpb_column,
    .row-container:has(.drive, .area) .wpb_column {
        max-width: 100% !important;
    }
    .container .container-forms .container-info .info-item .table-cell {
        padding-right: 0px !important;
    }
}
@media (max-width:900px) {
    .container {
        max-width: none !important;
        margin: 15px auto 0;
        height: 1080px;
    }
    .container .container-form {
        width: 100%;
        height: 380px;

    }

    .container .container-forms .container-info .info-item {
        position: absolute;
        top: 350px;
        width: 100%;
        height: 920px;
    }

    .container .container-form {
        width: 100%;
    }

    .container.log-in .container-form {
        left: 0px;
    }
    .row-container:has(.gform_wrapper, .custom-container-grupy) .row-parent {
        padding: 0px 0px 0px 0px !important;
    }
    .info-item-left, .container, .info-item-right, .form-item-element-left, .form-item-element-right {
        border-radius: 0px !important;
    }
    .forms-conteiner-info__btn {
        margin-top:10px !important;
    }
    .container .container-forms .container-info .info-item:nth-child(2) .table-cell {
        padding-left: 0px !important; 
        padding-right: 0;
    }
}
@media (max-width:400px) {
    .custom-generator-wystawcow h2 {
        font-size: 24px !important;
    }
    .heading-text h3 {
        font-size: 18px;
    }
}

input[placeholder="IMIĘ I NAZWISKO (GOŚCIA)"],
input[placeholder="IMIĘ I NAZWISKO (PRACOWNIKA)"], 
input[placeholder="FIRMA ZAPRASZAJĄCA"],
input[placeholder="E-MAIL OSOBY ZAPRASZANEJ"] {
    background-repeat: no-repeat;
    background-size: 30px;
    background-position: 5px;
}
input[placeholder="IMIĘ I NAZWISKO (PRACOWNIKA)"], input[placeholder="IMIĘ I NAZWISKO (GOŚCIA)"] {
    background-image: url("/wp-content/plugins/custom-element/my-custom-element/media/generator-wystawcow/name.png");
}
input[placeholder="FIRMA ZAPRASZAJĄCA"] {
    background-image: url("/wp-content/plugins/custom-element/my-custom-element/media/generator-wystawcow/box.png");
}
input[placeholder="E-MAIL OSOBY ZAPRASZANEJ"] {
    background-image: url("/wp-content/plugins/custom-element/my-custom-element/media/generator-wystawcow/email.png");
}
</style>

<?php

    $worker_entries = GFAPI::get_entries($worker_form_id);
    $guest_entries = GFAPI::get_entries($guest_form_id);
    $ip_address = $_SERVER['REMOTE_ADDR'];
    $registration_count = 0;

    foreach ($worker_entries as $entry) {
        $entry_ip = rgar($entry, 'ip');
        if ($entry_ip === $ip_address) {
            $registration_count++;
        }
    }
    foreach ($guest_entries as $entry) {
        $entry_ip = rgar($entry, 'ip');
        if ($entry_ip === $ip_address) {
            $registration_count++;
        }
    }

?>

<div class="custom-generator-wystawcow">
    <div class="heading-text register-count">
        <h3>Wykorzystano <?php echo $registration_count ?> z limitu 100 zaproszeń</h3>
    </div>
    <div class="heading-text">
        <h3>
        Jeśli potrzebujesz więcej zaproszeń skontaktuj się z nami!<br>
        Obsługa Wystawców: <a href="tel:+48501239338">+48 501 239 338</a>
        </h3>
    </div>
    <div class="container">
        <div class="container-forms">
            <div class="container-info">
            <div class="info-item info-item-left none">
                <div class="table">
                <div class="table-cell">
                    <div class="forms-conteiner-form__left active">
                    <h2>
                        WYGENERUJ IDENTYFIKATOR DLA SIEBIE I SWOICH PRACOWNIKÓW!
                    </h2>
                    [gravityform id="<?php echo $worker_form_id ?>" title="false" description="false" ajax="false"]
                    </div>
                </div>
                </div>
            </div>
            <div class="info-item info-item-right">
                <div class="table">
                <div class="table-cell">
                <h4 class="guest-info">Goście upoważnieni są do wejście na teren targów<br> od godziny 10:00</h4>
                    <div class="forms-conteiner-form__right">
                    <h2>
                        WYGENERUJ IDENTYFIKATOR DLA SWOICH </br>GOŚCI!
                    </h2>
                    [gravityform id="<?php echo $guest_form_id ?>" title="false" description="false" ajax="false"]
                    </div>
                </div>
                </div>
            </div>
            </div>
            <div class="container-form">
            <div class="form-item form-item-element-left log-in">
                <div class="table">
                <div class="table-cell">
                    <h2>
                    WYGENERUJ IDENTYFIKATOR DLA SIEBIE I SWOICH PRACOWNIKÓW
                    </h2>
                    <h3>
                    JEŚLI CHCESZ ZAPROSIĆ NA WYDARZENIE SWOICH WSPÓŁPRACOWNIKÓW, WYPEŁNIJ FORMULARZ
                    </h3>
                    <button class="forms-conteiner-info__btn btn-exh" >
                    KLIKNIJ
                    </button>
                    <img src="/wp-content/plugins/custom-element/my-custom-element/media/generator-wystawcow/bg.png" />
                </div>
                </div>
            </div>
            <div class="form-item form-item-element-right sign-up">
                <div class="table">
                <div class="table-cell ">
                    <h2>
                        WYGENERUJ IDENTYFIKATOR DLA SWOICH GOŚCI
                    </h2>
                    <h3>
                        JEŚLI CHCESZ ZAPROSIĆ NA WYDARZENIE SWOICH NAJWAŻNIEJSZYCH GOŚCI, KLIENTÓW LUB KONTRACHENTÓW, WYPEŁNIJ FORMULARZ
                    </h3>
                    <button class="forms-conteiner-info__btn  btn-exh">
                        KLIKNIJ
                    </button>
                    <img src="/wp-content/plugins/custom-element/my-custom-element/media/generator-wystawcow/bg.png" />
                </div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript"> 
    // Pobierz wszystkie elementy .btn-exh
    var btnExhElements = document.querySelectorAll(".form-item .btn-exh");

    // Pętla po wszystkich elementach .btn-exh
    btnExhElements.forEach(function(btnExhElement) {
    // Dodaj nasłuchiwanie kliknięcia
        btnExhElement.addEventListener("click", function() {
            // Pobierz wszystkie elementy .container i .info-item
            var containerElements = document.querySelectorAll(".container");
            var infoItemElements = document.querySelectorAll(".info-item");
            
            // Przełącz klasę "log-in" na wszystkich elementach .container
            containerElements.forEach(function(containerElement) {
            containerElement.classList.toggle("log-in");
            });
            
            // Przełącz klasę "none" na wszystkich elementach .info-item
            infoItemElements.forEach(function(infoItemElement) {
            infoItemElement.classList.toggle("none");
            });
        });
    });

    var registrationCount = <?php echo $registration_count; ?>

    if (registrationCount == 0) {
        document.querySelector(".register-count").style.display = "none";
    }
</script>

